(function(t){function e(e){for(var s,i,r=e[0],c=e[1],u=e[2],d=0,f=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&f.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,r=1;r<a.length;r++){var c=a[r];0!==n[c]&&(s=!1)}s&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},n={app:0},o=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0025":function(t,e,a){},"1a45":function(t,e,a){},"30db":function(t,e,a){"use strict";var s=a("0025"),n=a.n(s);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"wrapper"},[a("Nav"),a("router-view")],1)])},o=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("div",{staticClass:"header__logo"},[t._v("Todo manager")]),a("div",{staticClass:"header__buttons"},[a("router-link",{staticClass:"header__button",attrs:{to:"/create","active-class":"header__button_active",exact:""}},[t._v(" Create ")]),a("router-link",{staticClass:"header__button",attrs:{to:"/","active-class":"header__button_active",exact:""}},[t._v(" Main ")])],1)])},r=[],c={name:"Nav"},u=c,l=(a("d79f"),a("2877")),d=Object(l["a"])(u,i,r,!1,null,null,null),f=d.exports,_={components:{Nav:f},mounted:function(){this.$router.push("/")}},p=_,v=(a("5c0b"),Object(l["a"])(p,n,o,!1,null,null,null)),m=v.exports,h=a("8c4f"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cards"},t._l(t.$store.state.tasks,(function(e,s){return a("TaskCard",{key:e.id,attrs:{task:e},on:{deleteTask:function(e){return t.deleteTask(s)}}})})),1)},k=[],C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cards__item card"},[a("div",{staticClass:"card__header"},[a("div",{staticClass:"card__title"},[t._v(t._s(t.task.title))]),a("router-link",{staticClass:"card__button btn",attrs:{to:"/"+t.task.id}},[t._v(" Edit ")]),a("a",{staticClass:"card__button btn btn_red",attrs:{href:"#"},on:{click:function(e){return t.$emit("deleteTask")}}},[t._v("Delete")])],1),a("div",{staticClass:"card__body"},[a("ul",{staticClass:"card__todo todo-list"},t._l(t.task.todos,(function(e,s){return a("li",{staticClass:"todo-list__item todo-list__item_not-wrap",class:{"todo-list__item_done":e.isDone}},[t._v(" "+t._s(e.text)+" ")])})),0)])])},T=[],x={name:"TaskCard",props:{task:Object}},w=x,g=Object(l["a"])(w,C,T,!1,null,null,null),y=g.exports,O={name:"List",components:{TaskCard:y},mounted:function(){console.log(this.$store.state.tasks)},methods:{deleteTask:function(t){this.$store.dispatch("deleteTask",{idx:t})}}},$=O,j=(a("abcb"),Object(l["a"])($,b,k,!1,null,null,null)),E=j.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"form",attrs:{action:"#"}},[a("div",{staticClass:"form__header"},[a("label",{staticClass:"form__label"},[t._v("Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.task.title,expression:"task.title"}],staticClass:"form__input",attrs:{type:"text",name:"title",value:""},domProps:{value:t.task.title},on:{input:function(e){e.target.composing||t.$set(t.task,"title",e.target.value)}}}),a("a",{staticClass:"form__button btn",attrs:{href:"#"},on:{click:function(e){t.newTodoEdit=!0}}},[t._v("Add todo")])]),a("ul",{staticClass:"form__todo todo-list"},t._l(t.task.todos,(function(e,s){return a("li",{staticClass:"todo-list__item todo-list__item_pointer",class:{"todo-list__item_done":e.isDone},on:{click:function(e){return t.changeStatus(s)}}},[t._v(" "+t._s(e.text)),a("i",{staticClass:"fa fa-trash-o todo-list__button",attrs:{"aria-hidden":"true"},on:{click:function(e){return e.target!==e.currentTarget?null:(e.stopPropagation(),t.deleteTodo(s))}}})])})),0),a("div",{staticClass:"form__footer footer"},[a("a",{staticClass:"footer__button btn btn_green",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.onSaveTask(e)}}},[t._v("Сохранить")]),a("a",{staticClass:"footer__button btn",attrs:{href:"#"}},[t._v("Отменить изменения")]),a("a",{staticClass:"footer__button btn",attrs:{href:"#"}},[t._v("Выйти без сохранения")]),a("a",{staticClass:"footer__button btn",attrs:{href:"#"}},[t._v("Вернуть внесенные изменения")]),a("a",{staticClass:"footer__button btn btn_red",class:{"btn_not-active":t.newTask},attrs:{href:"#"}},[t._v("Удалить")])]),a("Modal",{directives:[{name:"show",rawName:"v-show",value:t.newTodoEdit,expression:"newTodoEdit"}],on:{onSave:t.save,onCancle:function(e){t.newTodoEdit=!1}}})],1)},D=[],P=(a("a434"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal"},[a("form",{staticClass:"modal__form"},[a("label",{staticClass:"modal__label"},[t._v("Input text")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"modal__input",attrs:{type:"text"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),a("div",{staticClass:"modal__buttons"},[a("button",{staticClass:"modal__button btn btn_green",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.save(e)}}},[t._v("Save")]),a("button",{staticClass:"modal__button btn btn_red",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.cancle(e)}}},[t._v("Cancle")])])])])}),N=[],M={data:function(){return{text:""}},methods:{save:function(){this.$emit("onSave",this.text),this.text=""},cancle:function(){this.$emit("onCancle"),this.text=""}}},I=M,B=(a("30db"),Object(l["a"])(I,P,N,!1,null,null,null)),J=B.exports,L={name:"Task",components:{Modal:J},props:{id:{type:String,default:""}},data:function(){return{task:{id:new Date,title:"",todos:[]},newTask:!1,newTodoEdit:!1}},mounted:function(){""!=this.id?this.task=this.$store.getters.taskById(this.id):this.newTask=!0},methods:{save:function(t){this.task.todos.push({text:t,isDone:!1}),this.newTodoEdit=!1},changeStatus:function(t){this.task.todos[t].isDone=!this.task.todos[t].isDone},deleteTodo:function(t){this.task.todos.splice(t,1)},onSaveTask:function(){this.newTask?this.$store.dispatch("addTask",{task:this.task}):this.$store.dispatch("updateTask",{id:this.id,task:this.task}),this.$router.push("/")}}},A=L,q=(a("e428"),Object(l["a"])(A,S,D,!1,null,null,null)),z=q.exports;s["a"].use(h["a"]);var F=[{path:"/",name:"List",component:E},{path:"/create",name:"NewTask",component:z},{path:"/:id",name:"EditTask",component:z,props:!0}],G=new h["a"]({mode:"history",base:"/",routes:F}),H=G,K=(a("7db0"),a("c740"),a("2f62"));s["a"].use(K["a"]);var Q=new K["a"].Store({state:{tasks:[{title:"New task 1",id:1,todos:[{text:"11",isDone:!1},{text:"12",isDone:!0}]}]},mutations:{deleteTask:function(t,e){t.tasks.splice(e.idx,1)},updateTask:function(t,e){s["a"].set(t.tasks,e.idx,e.task)},addTask:function(t,e){t.tasks.push(e.task)}},actions:{deleteTask:function(t,e){t.commit("deleteTask",e)},updateTask:function(t,e){t.commit("updateTask",{task:e.task,idx:t.getters.indexById(e.id)})},addTask:function(t,e){t.commit("addTask",e)}},modules:{},getters:{taskById:function(t){return function(e){return Object.assign({},t.tasks.find((function(t){if(t.id==e)return!0})))}},indexById:function(t){return function(e){return t.tasks.findIndex((function(t,a){if(t.id==e)return!0}))}}}});a("fa6d");s["a"].config.productionTip=!1,new s["a"]({router:H,store:Q,render:function(t){return t(m)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),n=a.n(s);n.a},"9c0c":function(t,e,a){},a3ee:function(t,e,a){},abcb:function(t,e,a){"use strict";var s=a("1a45"),n=a.n(s);n.a},d79f:function(t,e,a){"use strict";var s=a("a3ee"),n=a.n(s);n.a},e428:function(t,e,a){"use strict";var s=a("f47f"),n=a.n(s);n.a},f47f:function(t,e,a){}});
//# sourceMappingURL=app.dda18e4b.js.map